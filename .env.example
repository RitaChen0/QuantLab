# ===========================================
# QuantLab Environment Configuration
# ===========================================

# ----------------
# Database
# ----------------
DB_HOST=postgres
DB_PORT=5432
DB_NAME=quantlab
DB_USER=quantlab
DB_PASSWORD=your_secure_password_here

DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ----------------
# Redis
# ----------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ----------------
# JWT Authentication
# ----------------
JWT_SECRET=your_jwt_secret_key_change_this_in_production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----------------
# Encryption
# ----------------
# ğŸ” ç”¨æ–¼åŠ å¯†è³‡æ–™åº«ä¸­çš„æ•æ„Ÿè³‡æ–™ï¼ˆå¦‚ API Tokenï¼‰
# ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆæ–°çš„é‡‘é‘°ï¼š
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=generate_a_new_key_using_command_above

# ----------------
# Cache Security
# ----------------
# ğŸ”’ ç”¨æ–¼ç°½ç« å¿«å–è³‡æ–™ï¼ˆé˜²æ­¢ pickle ååºåˆ—åŒ–æ”»æ“Šï¼‰
# å»ºè­°ç”Ÿæˆç¨ç«‹çš„å¼·éš¨æ©Ÿé‡‘é‘°ï¼ˆè‡³å°‘ 32 å­—å…ƒï¼‰
# å¦‚æœæœªè¨­å®šï¼Œå°‡ä½¿ç”¨ JWT_SECRET ä½œç‚ºå‚™ç”¨
# python -c "import secrets; print(secrets.token_urlsafe(32))"
CACHE_SIGNING_KEY=

# ----------------
# Application
# ----------------
ENVIRONMENT=development
DEBUG=True
APP_NAME=QuantLab
APP_VERSION=0.1.0
API_PREFIX=/api/v1

# ----------------
# CORS
# ----------------
# å…è¨±çš„ä¾†æºï¼ˆé€—è™Ÿåˆ†éš”å¤šå€‹ï¼‰
# é–‹ç™¼ç’°å¢ƒä½¿ç”¨ localhost
# ç”Ÿç”¢ç’°å¢ƒç¯„ä¾‹: ALLOWED_ORIGINS=https://yourdomain.com,https://api.yourdomain.com
# å¤–éƒ¨è¨ªå•ç¯„ä¾‹: ALLOWED_ORIGINS=http://192.168.1.100:3000,http://192.168.1.100:8000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ----------------
# FinLab API
# ----------------
FINLAB_API_TOKEN=your_finlab_api_token_here
FINLAB_API_BASE_URL=https://api.finlab.tw

# ----------------
# OpenAI (Optional)
# ----------------
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o mini
OPENAI_MAX_TOKENS=2000

# ----------------
# Anthropic Claude (Optional)
# ----------------
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# ----------------
# Broker APIs (Optional)
# ----------------
# æ°¸è±è­‰åˆ¸ Shioaji
SHIOAJI_API_KEY=
SHIOAJI_SECRET_KEY=
SHIOAJI_PERSON_ID=
SHIOAJI_PASSWORD=

# å¯Œæœ Fugle
FUGLE_API_KEY=
FUGLE_SECRET_KEY=
FUGLE_CERT_PATH=

# ----------------
# Qlib (Quantitative Investment Platform)
# ----------------
QLIB_DATA_PATH=/data/qlib_data
QLIB_CACHE_PATH=/data/qlib_cache
MLFLOW_URI=file:///data/mlruns

# ----------------
# Celery
# ----------------
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# ----------------
# Email (Optional)
# ----------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password
SMTP_FROM=noreply@quantlab.local

# ----------------
# MinIO (Object Storage - Optional)
# ----------------
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=quantlab

# ----------------
# Monitoring (Optional)
# ----------------
SENTRY_DSN=

# ----------------
# Frontend
# ----------------
# å‰ç«¯ API å’Œ WebSocket é€£æ¥åœ°å€
# é–‹ç™¼ç’°å¢ƒä½¿ç”¨ localhost
# å¤–éƒ¨è¨ªå•ç¯„ä¾‹: NUXT_PUBLIC_API_BASE=http://192.168.1.100:8000
# ç”Ÿç”¢ç’°å¢ƒç¯„ä¾‹: NUXT_PUBLIC_API_BASE=https://api.yourdomain.com
NUXT_PUBLIC_API_BASE=http://localhost:8000
NUXT_PUBLIC_WS_BASE=ws://localhost:8000
