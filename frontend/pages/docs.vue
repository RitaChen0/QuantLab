<template>
  <div class="docs-page">
    <!-- ç°¡åŒ–çš„é ‚éƒ¨å°èˆª -->
    <div class="top-bar">
      <div class="container mx-auto px-4">
        <div class="py-4">
          <NuxtLink to="/dashboard" class="back-button">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
            <span>è¿”å›å„€è¡¨æ¿</span>
          </NuxtLink>
        </div>
      </div>
    </div>

    <div class="container mx-auto px-4 py-12 max-w-6xl">
      <!-- é é¢æ¨™é¡Œ -->
      <div class="text-center mb-12">
        <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
          ğŸ“š QuantLab é–‹ç™¼è€…æ–‡æª”
        </h1>
        <p class="text-xl text-gray-600">å®Œæ•´çš„ API æ–‡æª”èˆ‡å¿«é€Ÿé–‹å§‹æŒ‡å—</p>
      </div>

      <!-- Hero Section - API æ–‡æª” (æœ€çªå‡º) -->
      <div class="hero-section mb-12">
        <div class="hero-card">
          <div class="flex items-center gap-3 mb-4">
            <div class="icon-box">
              <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
            </div>
            <div>
              <h2 class="text-3xl font-bold text-gray-800">API æ–‡æª”ä¸­å¿ƒ</h2>
              <p class="text-gray-600">æ¢ç´¢å®Œæ•´çš„ REST API ç«¯é»èˆ‡äº’å‹•å¼æ¸¬è©¦ç’°å¢ƒ</p>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
            <a :href="apiDocsUrl" target="_blank" class="api-button primary-api">
              <div class="flex items-center gap-3">
                <div class="api-icon">ğŸš€</div>
                <div class="text-left">
                  <div class="font-bold text-lg">Swagger UI</div>
                  <div class="text-sm opacity-90">äº’å‹•å¼ API æ¸¬è©¦ç’°å¢ƒ</div>
                </div>
              </div>
              <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>

            <a :href="redocUrl" target="_blank" class="api-button secondary-api">
              <div class="flex items-center gap-3">
                <div class="api-icon">ğŸ“–</div>
                <div class="text-left">
                  <div class="font-bold text-lg">ReDoc</div>
                  <div class="text-sm opacity-90">é–±è®€å„ªå…ˆçš„æ–‡æª”ä»‹é¢</div>
                </div>
              </div>
              <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>
          </div>
        </div>
      </div>

      <!-- å¿«é€Ÿé–‹å§‹æŒ‡å— -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
          <span class="text-3xl">ğŸš€</span>
          å¿«é€Ÿé–‹å§‹
        </h2>
        <div class="steps-container">
          <div class="step-card">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3 class="font-bold text-lg mb-1">è¨»å†Šèˆ‡ç™»å…¥</h3>
              <p class="text-gray-600 text-sm">å»ºç«‹æ‚¨çš„ QuantLab å¸³è™Ÿä¸¦å®Œæˆèº«ä»½é©—è­‰</p>
            </div>
          </div>
          <div class="step-card">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3 class="font-bold text-lg mb-1">è¨­å®š API Token</h3>
              <p class="text-gray-600 text-sm">é€£æ¥æ‚¨çš„ FinLab API å–å¾—å°è‚¡è³‡æ–™</p>
            </div>
          </div>
          <div class="step-card">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3 class="font-bold text-lg mb-1">å‰µå»ºäº¤æ˜“ç­–ç•¥</h3>
              <p class="text-gray-600 text-sm">ä½¿ç”¨ Python ç·¨å¯«æ‚¨çš„ç¬¬ä¸€å€‹é‡åŒ–ç­–ç•¥</p>
            </div>
          </div>
          <div class="step-card">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3 class="font-bold text-lg mb-1">åŸ·è¡Œå›æ¸¬åˆ†æ</h3>
              <p class="text-gray-600 text-sm">é©—è­‰ç­–ç•¥ç¸¾æ•ˆä¸¦å„ªåŒ–åƒæ•¸</p>
            </div>
          </div>
        </div>
      </div>

      <!-- æ ¸å¿ƒåŠŸèƒ½ (3æ¬„ç¶²æ ¼) -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
          <span class="text-3xl">âš¡</span>
          æ ¸å¿ƒåŠŸèƒ½
        </h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">ğŸ’»</div>
            <h3 class="font-bold text-lg mb-2">ç­–ç•¥ç·¨è¼¯å™¨</h3>
            <p class="text-gray-600 text-sm mb-3">ä½¿ç”¨ Python å’Œ Backtrader ç·¨å¯«å°ˆæ¥­äº¤æ˜“ç­–ç•¥</p>
            <ul class="text-sm text-gray-500 space-y-1">
              <li>âœ“ æ”¯æ´å®Œæ•´ Python èªæ³•</li>
              <li>âœ“ å…§å»ºç¨‹å¼ç¢¼é©—è­‰</li>
              <li>âœ“ å³æ™‚èªæ³•æç¤º</li>
            </ul>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ğŸ”¬</div>
            <h3 class="font-bold text-lg mb-2">å›æ¸¬å¼•æ“</h3>
            <p class="text-gray-600 text-sm mb-3">ç²¾ç¢ºæ¨¡æ“¬çœŸå¯¦äº¤æ˜“ç’°å¢ƒèˆ‡æˆæœ¬</p>
            <ul class="text-sm text-gray-500 space-y-1">
              <li>âœ“ æ‰‹çºŒè²»èˆ‡è­‰äº¤ç¨…</li>
              <li>âœ“ æ»‘åƒ¹æ¨¡æ“¬</li>
              <li>âœ“ å®Œæ•´ç¸¾æ•ˆæŒ‡æ¨™</li>
            </ul>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ğŸ’¹</div>
            <h3 class="font-bold text-lg mb-2">æ•¸æ“šæ•´åˆ</h3>
            <p class="text-gray-600 text-sm mb-3">å°è‚¡å®Œæ•´æ­·å²æ•¸æ“šèˆ‡æŠ€è¡“æŒ‡æ¨™</p>
            <ul class="text-sm text-gray-500 space-y-1">
              <li>âœ“ FinLab åŸºæœ¬é¢è³‡æ–™</li>
              <li>âœ“ TA-Lib 100+ æŒ‡æ¨™</li>
              <li>âœ“ å³æ™‚å ±åƒ¹æ•´åˆ</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- æŠ€è¡“æ”¯æ´ -->
      <div class="support-section">
        <div class="flex items-start gap-4">
          <div class="support-icon">ğŸ’¬</div>
          <div class="flex-1">
            <h2 class="text-2xl font-bold mb-3">éœ€è¦å”åŠ©ï¼Ÿ</h2>
            <p class="text-gray-600 mb-4">æˆ‘å€‘æä¾›å¤šç¨®ç®¡é“å”åŠ©æ‚¨è§£æ±ºå•é¡Œ</p>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              <a href="https://github.com/your-repo" target="_blank" class="support-link">
                <span class="text-xl">ğŸ“¦</span>
                <span>GitHub</span>
              </a>
              <a href="https://discord.gg/your-invite" target="_blank" class="support-link">
                <span class="text-xl">ğŸ’­</span>
                <span>Discord</span>
              </a>
              <NuxtLink to="/docs/faq" class="support-link">
                <span class="text-xl">â“</span>
                <span>FAQ</span>
              </NuxtLink>
              <a href="mailto:weiyu58@gmail.com" class="support-link">
                <span class="text-xl">ğŸ“§</span>
                <span>Email</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- å¿«é€Ÿå°èˆª -->
      <div class="mt-12 quick-nav-section">
        <h3 class="text-lg font-semibold mb-4 text-center text-gray-700">å¿«é€Ÿå‰å¾€</h3>
        <div class="flex flex-wrap justify-center gap-3">
          <NuxtLink to="/dashboard" class="quick-nav-btn">
            <span>ğŸ“Š</span> å„€è¡¨æ¿
          </NuxtLink>
          <NuxtLink to="/strategies" class="quick-nav-btn">
            <span>ğŸ“ˆ</span> ç­–ç•¥ç®¡ç†
          </NuxtLink>
          <NuxtLink to="/backtest" class="quick-nav-btn">
            <span>ğŸ”¬</span> å›æ¸¬ä¸­å¿ƒ
          </NuxtLink>
          <NuxtLink to="/data" class="quick-nav-btn">
            <span>ğŸ’¹</span> æ•¸æ“šç€è¦½
          </NuxtLink>
          <NuxtLink to="/industry" class="quick-nav-btn">
            <span>ğŸ­</span> ç”¢æ¥­åˆ†æ
          </NuxtLink>
          <NuxtLink to="/rdagent" class="quick-nav-btn">
            <span>ğŸ¤–</span> è‡ªå‹•ç ”ç™¼
          </NuxtLink>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
const config = useRuntimeConfig()
const apiDocsUrl = `${config.public.apiBase}/docs`
const redocUrl = `${config.public.apiBase}/redoc`
</script>

<style scoped>
.docs-page {
  min-height: 100vh;
  background: linear-gradient(to bottom, #f9fafb 0%, #ffffff 100%);
}

/* ç°¡åŒ–çš„é ‚éƒ¨å°èˆª */
.top-bar {
  background: white;
  border-bottom: 1px solid #e5e7eb;
  position: sticky;
  top: 0;
  z-index: 50;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.back-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
  color: white;
  border-radius: 0.5rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s;
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
}

.back-button:hover {
  transform: translateX(-4px);
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.4);
}

/* Hero Section - API æ–‡æª” */
.hero-section {
  animation: fadeInUp 0.6s ease-out;
}

.hero-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 2.5rem;
  border-radius: 1.5rem;
  box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
  color: white;
}

.icon-box {
  width: 4rem;
  height: 4rem;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border-radius: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}

.api-button {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 1.5rem;
  border-radius: 1rem;
  text-decoration: none;
  transition: all 0.3s;
  cursor: pointer;
}

.primary-api {
  background: white;
  color: #1f2937;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.primary-api:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.secondary-api {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
}

.secondary-api:hover {
  background: rgba(255, 255, 255, 0.25);
  transform: translateY(-4px);
}

.api-icon {
  font-size: 2rem;
  width: 3rem;
  height: 3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(59, 130, 246, 0.1);
  border-radius: 0.75rem;
}

.primary-api .api-icon {
  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
}

.arrow-icon {
  width: 1.25rem;
  height: 1.25rem;
  flex-shrink: 0;
  opacity: 0.7;
}

/* å¿«é€Ÿé–‹å§‹æ­¥é©Ÿ */
.steps-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.step-card {
  background: white;
  padding: 1.5rem;
  border-radius: 1rem;
  border: 2px solid #e5e7eb;
  display: flex;
  gap: 1rem;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}

.step-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
  transform: scaleX(0);
  transition: transform 0.3s;
}

.step-card:hover::before {
  transform: scaleX(1);
}

.step-card:hover {
  border-color: #bfdbfe;
  transform: translateY(-4px);
  box-shadow: 0 8px 16px rgba(59, 130, 246, 0.15);
}

.step-number {
  width: 2.5rem;
  height: 2.5rem;
  background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
  color: white;
  border-radius: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.25rem;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

/* æ ¸å¿ƒåŠŸèƒ½ç¶²æ ¼ */
.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 320px));
  gap: 1.5rem;
  justify-content: center;
  max-width: 1200px;
  margin: 0 auto;
}

@media (max-width: 768px) {
  .features-grid {
    grid-template-columns: 1fr;
    max-width: 400px;
  }
}

/* æ ¸å¿ƒåŠŸèƒ½å¡ç‰‡ */
.feature-card {
  background: white;
  padding: 2rem;
  border-radius: 1rem;
  border: 2px solid #f3f4f6;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}

.feature-card::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
  transform: scaleX(0);
  transition: transform 0.3s;
}

.feature-card:hover::after {
  transform: scaleX(1);
}

.feature-card:hover {
  border-color: #e0e7ff;
  transform: translateY(-6px);
  box-shadow: 0 12px 24px rgba(59, 130, 246, 0.12);
}

.feature-icon {
  font-size: 3rem;
  width: 4rem;
  height: 4rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
  border-radius: 1rem;
  margin-bottom: 1rem;
}

/* æŠ€è¡“æ”¯æ´å€å¡Š */
.support-section {
  background: white;
  padding: 2rem;
  border-radius: 1.5rem;
  border: 2px solid #e5e7eb;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.support-icon {
  font-size: 3rem;
  width: 4rem;
  height: 4rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border-radius: 1rem;
  flex-shrink: 0;
}

.support-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem;
  background: #f9fafb;
  border-radius: 0.75rem;
  text-decoration: none;
  color: #374151;
  font-weight: 600;
  transition: all 0.3s;
  border: 2px solid transparent;
}

.support-link:hover {
  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
  border-color: #3b82f6;
  color: #2563eb;
  transform: translateY(-3px);
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.15);
}

/* å¿«é€Ÿå°èˆªå€å¡Š */
.quick-nav-section {
  padding: 2rem;
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
  border-radius: 1.5rem;
  border: 2px solid #bae6fd;
}

.quick-nav-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: white;
  color: #374151;
  border: 2px solid #e5e7eb;
  border-radius: 0.75rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s;
}

.quick-nav-btn:hover {
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
  border-color: #3b82f6;
  color: #1e40af;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

.quick-nav-btn span {
  font-size: 1.25rem;
}

/* å‹•ç•« */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
